---
import { NavFromRight, NavFromLeft } from './NavStoreA'

const { title, titles } = Astro.props
let hideMainNav = false
if (!title) {
  hideMainNav = true
}
const currentTitleIndex = titles.indexOf(title) ?? 0
let leftNavTitle = titles[currentTitleIndex - 1] ?? titles[titles.length - 1]
let rightNavTitle = titles[currentTitleIndex + 1] ?? titles[0]

const fromLeft = import.meta.env.FROM_LEFT
console.log('fromLeft', fromLeft)
---

<main
  transition:animate="none"
  class="flex w-full flex-col items-center justify-between overflow-hidden pb-10"
>
  <div class="animate place-items-center flex gap-5">
    {
      leftNavTitle ? (
        <NavFromRight
          client:load
          link={`/${leftNavTitle.toLowerCase()}`}
          text={leftNavTitle}
        />
      ) : null
    }
    {hideMainNav ? null : <h2 class="text-5xl text-gradient ">{title}</h2>}
    {
      rightNavTitle ? (
        <NavFromLeft
          client:load
          link={`/${rightNavTitle.toLowerCase()}`}
          text={rightNavTitle}
        />
      ) : null
    }
  </div>
</main>
<style>
  main {
    position: sticky;
    top: 30px;
  }
  .animate {
    animation: fadeIn 0.75s ease-in-out;
    transform: translateX({true ? '-100%': '100%'});
  }
  @keyframes fadeIn {
    0% {
      opacity: 0.5;
    }
    100% {
      opacity: 1;
    }
  }
  .text-gradient {
    background-image: linear-gradient(
      45deg,
      rgb(249, 174, 11),
      rgb(241, 11, 249)
    );
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-size: 400%;
    background-position: 0%;
  }
</style>
